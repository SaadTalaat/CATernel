\hypertarget{kbc_8c}{\section{kernel/kbc.c \-File \-Reference}
\label{kbc_8c}\index{kernel/kbc.\-c@{kernel/kbc.\-c}}
}
{\ttfamily \#include $<$types.\-h$>$}\*
{\ttfamily \#include $<$arch/x86/x86.\-h$>$}\*
{\ttfamily \#include $<$cli.\-h$>$}\*
{\ttfamily \#include $<$kbc.\-h$>$}\*
\-Include dependency graph for kbc.\-c\-:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=283pt]{kbc_8c__incl}
\end{center}
\end{figure}
\subsection*{\-Defines}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{kbc_8c_ad0168eaab1da42b06e86ecf5ff0f6f1d}{\-E\-S\-C\-O\-D\-E}~(1$<$$<$6)
\item 
\#define \hyperlink{kbc_8c_ac16e9c5c93955f2c396aaa9829b72323}{\-C\-T\-L}~(1$<$$<$1)
\item 
\#define \hyperlink{kbc_8c_ac179eef68bcc694aa0ef8dd1eb09950b}{\-S\-H\-I\-F\-T}~(1$<$$<$0)
\item 
\#define \hyperlink{kbc_8c_a9d8a33b1a8b82b9913a0ba70438d45be}{\-A\-L\-T}~(1$<$$<$2)
\item 
\#define \hyperlink{kbc_8c_ad36c01c5d7b1fc13a22426a497ac1b8b}{\-C\-A\-P\-S\-L\-O\-C\-K}~(1$<$$<$3)
\item 
\#define \hyperlink{kbc_8c_a67aa85b3ef56be57b97e084f52621d4f}{\-N\-U\-M\-L\-O\-C\-K}~(1$<$$<$4)
\item 
\#define \hyperlink{kbc_8c_a1cb9c7b41422a2c83136cecfe2a059d3}{\-S\-C\-R\-O\-L\-L\-L\-O\-C\-K}~(1$<$$<$5)
\item 
\#define \hyperlink{kbc_8c_af19d48b9f61047a668649a2f9dc317ff}{\-N\-U\-L}~0
\item 
\#define \hyperlink{kbc_8c_acda3b44286ccc5e1924198027f28a8c5}{\-C\-L}(x)~((x)-\/'@')
\end{DoxyCompactItemize}
\subsection*{\-Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{kbc_8c_aa8584463ac58034ccbf9cd2ffc8e187d}{kbc\-\_\-data} (void)
\item 
void \hyperlink{kbc_8c_abf3ce1c314db9a6a15b99e5313eb2edb}{kbc\-\_\-interrupt} (void)
\end{DoxyCompactItemize}
\subsection*{\-Variables}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{kbc_8c_a4326db5874cbf6cc212076fab5d49976}{shiftcode} \mbox{[}256\mbox{]}
\item 
static \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{kbc_8c_a04894af8115f470aa8f26efdde3b6742}{togglecode} \mbox{[}256\mbox{]}
\item 
static \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{kbc_8c_aecaf43d20653affe9dcc677b2cab809d}{normalmap} \mbox{[}256\mbox{]}
\item 
static \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{kbc_8c_a7d97552a829d8810a5914cc12c325052}{shiftmap} \mbox{[}256\mbox{]}
\item 
static \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} \hyperlink{kbc_8c_a9fcaddcec928a650c8414586b7f42265}{ctlmap} \mbox{[}256\mbox{]}
\item 
static \hyperlink{types_8h_aba7bc1797add20fe3efdf37ced1182c5}{uint8\-\_\-t} $\ast$ \hyperlink{kbc_8c_a0a67bc2d04dda86f0eebaabad58355d8}{charcode} \mbox{[}4\mbox{]}
\end{DoxyCompactItemize}


\subsection{\-Define \-Documentation}
\hypertarget{kbc_8c_a9d8a33b1a8b82b9913a0ba70438d45be}{\index{kbc.\-c@{kbc.\-c}!\-A\-L\-T@{\-A\-L\-T}}
\index{\-A\-L\-T@{\-A\-L\-T}!kbc.c@{kbc.\-c}}
\subsubsection[{\-A\-L\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-A\-L\-T}~(1$<$$<$2)}}\label{kbc_8c_a9d8a33b1a8b82b9913a0ba70438d45be}


\-Definition at line 11 of file kbc.\-c.

\hypertarget{kbc_8c_ad36c01c5d7b1fc13a22426a497ac1b8b}{\index{kbc.\-c@{kbc.\-c}!\-C\-A\-P\-S\-L\-O\-C\-K@{\-C\-A\-P\-S\-L\-O\-C\-K}}
\index{\-C\-A\-P\-S\-L\-O\-C\-K@{\-C\-A\-P\-S\-L\-O\-C\-K}!kbc.c@{kbc.\-c}}
\subsubsection[{\-C\-A\-P\-S\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-C\-A\-P\-S\-L\-O\-C\-K}~(1$<$$<$3)}}\label{kbc_8c_ad36c01c5d7b1fc13a22426a497ac1b8b}


\-Definition at line 12 of file kbc.\-c.

\hypertarget{kbc_8c_acda3b44286ccc5e1924198027f28a8c5}{\index{kbc.\-c@{kbc.\-c}!\-C\-L@{\-C\-L}}
\index{\-C\-L@{\-C\-L}!kbc.c@{kbc.\-c}}
\subsubsection[{\-C\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-C\-L}(
\begin{DoxyParamCaption}
\item[{}]{x}
\end{DoxyParamCaption}
)~((x)-\/'@')}}\label{kbc_8c_acda3b44286ccc5e1924198027f28a8c5}


\-Definition at line 72 of file kbc.\-c.

\hypertarget{kbc_8c_ac16e9c5c93955f2c396aaa9829b72323}{\index{kbc.\-c@{kbc.\-c}!\-C\-T\-L@{\-C\-T\-L}}
\index{\-C\-T\-L@{\-C\-T\-L}!kbc.c@{kbc.\-c}}
\subsubsection[{\-C\-T\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-C\-T\-L}~(1$<$$<$1)}}\label{kbc_8c_ac16e9c5c93955f2c396aaa9829b72323}


\-Definition at line 9 of file kbc.\-c.

\hypertarget{kbc_8c_ad0168eaab1da42b06e86ecf5ff0f6f1d}{\index{kbc.\-c@{kbc.\-c}!\-E\-S\-C\-O\-D\-E@{\-E\-S\-C\-O\-D\-E}}
\index{\-E\-S\-C\-O\-D\-E@{\-E\-S\-C\-O\-D\-E}!kbc.c@{kbc.\-c}}
\subsubsection[{\-E\-S\-C\-O\-D\-E}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-E\-S\-C\-O\-D\-E}~(1$<$$<$6)}}\label{kbc_8c_ad0168eaab1da42b06e86ecf5ff0f6f1d}


\-Definition at line 8 of file kbc.\-c.

\hypertarget{kbc_8c_af19d48b9f61047a668649a2f9dc317ff}{\index{kbc.\-c@{kbc.\-c}!\-N\-U\-L@{\-N\-U\-L}}
\index{\-N\-U\-L@{\-N\-U\-L}!kbc.c@{kbc.\-c}}
\subsubsection[{\-N\-U\-L}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-N\-U\-L}~0}}\label{kbc_8c_af19d48b9f61047a668649a2f9dc317ff}


\-Definition at line 31 of file kbc.\-c.

\hypertarget{kbc_8c_a67aa85b3ef56be57b97e084f52621d4f}{\index{kbc.\-c@{kbc.\-c}!\-N\-U\-M\-L\-O\-C\-K@{\-N\-U\-M\-L\-O\-C\-K}}
\index{\-N\-U\-M\-L\-O\-C\-K@{\-N\-U\-M\-L\-O\-C\-K}!kbc.c@{kbc.\-c}}
\subsubsection[{\-N\-U\-M\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-N\-U\-M\-L\-O\-C\-K}~(1$<$$<$4)}}\label{kbc_8c_a67aa85b3ef56be57b97e084f52621d4f}


\-Definition at line 13 of file kbc.\-c.

\hypertarget{kbc_8c_a1cb9c7b41422a2c83136cecfe2a059d3}{\index{kbc.\-c@{kbc.\-c}!\-S\-C\-R\-O\-L\-L\-L\-O\-C\-K@{\-S\-C\-R\-O\-L\-L\-L\-O\-C\-K}}
\index{\-S\-C\-R\-O\-L\-L\-L\-O\-C\-K@{\-S\-C\-R\-O\-L\-L\-L\-O\-C\-K}!kbc.c@{kbc.\-c}}
\subsubsection[{\-S\-C\-R\-O\-L\-L\-L\-O\-C\-K}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-S\-C\-R\-O\-L\-L\-L\-O\-C\-K}~(1$<$$<$5)}}\label{kbc_8c_a1cb9c7b41422a2c83136cecfe2a059d3}


\-Definition at line 14 of file kbc.\-c.

\hypertarget{kbc_8c_ac179eef68bcc694aa0ef8dd1eb09950b}{\index{kbc.\-c@{kbc.\-c}!\-S\-H\-I\-F\-T@{\-S\-H\-I\-F\-T}}
\index{\-S\-H\-I\-F\-T@{\-S\-H\-I\-F\-T}!kbc.c@{kbc.\-c}}
\subsubsection[{\-S\-H\-I\-F\-T}]{\setlength{\rightskip}{0pt plus 5cm}\#define {\bf \-S\-H\-I\-F\-T}~(1$<$$<$0)}}\label{kbc_8c_ac179eef68bcc694aa0ef8dd1eb09950b}


\-Definition at line 10 of file kbc.\-c.



\subsection{\-Function \-Documentation}
\hypertarget{kbc_8c_aa8584463ac58034ccbf9cd2ffc8e187d}{\index{kbc.\-c@{kbc.\-c}!kbc\-\_\-data@{kbc\-\_\-data}}
\index{kbc\-\_\-data@{kbc\-\_\-data}!kbc.c@{kbc.\-c}}
\subsubsection[{kbc\-\_\-data}]{\setlength{\rightskip}{0pt plus 5cm}int {\bf kbc\-\_\-data} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{kbc_8c_aa8584463ac58034ccbf9cd2ffc8e187d}


\-Definition at line 97 of file kbc.\-c.

\hypertarget{kbc_8c_abf3ce1c314db9a6a15b99e5313eb2edb}{\index{kbc.\-c@{kbc.\-c}!kbc\-\_\-interrupt@{kbc\-\_\-interrupt}}
\index{kbc\-\_\-interrupt@{kbc\-\_\-interrupt}!kbc.c@{kbc.\-c}}
\subsubsection[{kbc\-\_\-interrupt}]{\setlength{\rightskip}{0pt plus 5cm}void {\bf kbc\-\_\-interrupt} (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{kbc_8c_abf3ce1c314db9a6a15b99e5313eb2edb}


\-Definition at line 131 of file kbc.\-c.



\subsection{\-Variable \-Documentation}
\hypertarget{kbc_8c_a0a67bc2d04dda86f0eebaabad58355d8}{\index{kbc.\-c@{kbc.\-c}!charcode@{charcode}}
\index{charcode@{charcode}!kbc.c@{kbc.\-c}}
\subsubsection[{charcode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t}$\ast$ {\bf charcode}\mbox{[}4\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{kbc_8c_a0a67bc2d04dda86f0eebaabad58355d8}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}
 {
        normalmap,
        shiftmap,
        ctlmap,
        ctlmap
}
\end{DoxyCode}


\-Definition at line 91 of file kbc.\-c.

\hypertarget{kbc_8c_a9fcaddcec928a650c8414586b7f42265}{\index{kbc.\-c@{kbc.\-c}!ctlmap@{ctlmap}}
\index{ctlmap@{ctlmap}!kbc.c@{kbc.\-c}}
\subsubsection[{ctlmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} {\bf ctlmap}\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{kbc_8c_a9fcaddcec928a650c8414586b7f42265}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
        NUL,    NUL,    NUL,    NUL,    NUL,    NUL,    NUL,    NUL,
        NUL,    NUL,    NUL,    NUL,    NUL,    NUL,    NUL,    NUL,
        CL('Q'),CL('W'),CL('E'),CL('R'),CL('T'),CL('Y'),CL('U'),CL('I'),
        CL('O'),CL('P'),NUL,    NUL,    '\r',   NUL,    CL('A'),CL('S'),
        CL('D'),CL('F'),CL('G'),CL('H'),CL('J'),CL('K'),CL('L'),NUL,
        NUL,    NUL,    NUL,    CL('\\'),CL('Z'),CL('X'),CL('C'),CL('V'),
        CL('B'),CL('N'),CL('M'),NUL,    NUL,    CL('/'),NUL,    NUL,
        [0x97] KEY_HOME,        [0x9C] '\n',
        [0xB5] CL('/'),         [0xC8] KEY_UP,
        [0xC9] KEY_PGUP,        [0xCB] KEY_LF,
        [0xCD] KEY_RT,          [0xCF] KEY_END,
        [0xD0] KEY_DN,          [0xD1] KEY_PGDN,
        [0xD2] KEY_INS,         [0xD3] KEY_DEL


}
\end{DoxyCode}


\-Definition at line 73 of file kbc.\-c.

\hypertarget{kbc_8c_aecaf43d20653affe9dcc677b2cab809d}{\index{kbc.\-c@{kbc.\-c}!normalmap@{normalmap}}
\index{normalmap@{normalmap}!kbc.c@{kbc.\-c}}
\subsubsection[{normalmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} {\bf normalmap}\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{kbc_8c_aecaf43d20653affe9dcc677b2cab809d}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
        NUL,0x1B,'1','2','3','4','5','6',
        '7','8','9','0','-','=','\b','\t',
        'q','w','e','r','t','y','u','i',
        'o','p','[',']','\n',NUL,'a','s',
        'd','f','g','h','j','k','l',';',
        '\'','`',NUL,'\\','z','x','c',
        'v','b','n','m',',','.','/',NUL,'*',
        NUL,' ',NUL,NUL,NUL,NUL,NUL,NUL,NUL,
        NUL,NUL,NUL,NUL,NUL,NUL,'7','8','9',
        '-','4','5','6','+','1','2','3','0',
        '.', NUL, NUL, NUL, NUL,
        [0x97] KEY_HOME,        [0x9C] '\n',
        [0xB5] '/',             [0xC8] KEY_UP,
        [0xC9] KEY_PGUP,        [0xCB] KEY_LF,
        [0xCD] KEY_RT,          [0xCF] KEY_END,
        [0xD0] KEY_DN,          [0xD1] KEY_PGDN,
        [0xD2] KEY_INS,         [0xD3] KEY_DEL
}
\end{DoxyCode}


\-Definition at line 32 of file kbc.\-c.

\hypertarget{kbc_8c_a4326db5874cbf6cc212076fab5d49976}{\index{kbc.\-c@{kbc.\-c}!shiftcode@{shiftcode}}
\index{shiftcode@{shiftcode}!kbc.c@{kbc.\-c}}
\subsubsection[{shiftcode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} {\bf shiftcode}\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{kbc_8c_a4326db5874cbf6cc212076fab5d49976}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
        [0x1D] CTL,
        [0x2A] SHIFT,
        [0x36] SHIFT,
        [0x38] ALT,
        [0x9D] CTL,
        [0xB8] ALT

}
\end{DoxyCode}


\-Definition at line 15 of file kbc.\-c.

\hypertarget{kbc_8c_a7d97552a829d8810a5914cc12c325052}{\index{kbc.\-c@{kbc.\-c}!shiftmap@{shiftmap}}
\index{shiftmap@{shiftmap}!kbc.c@{kbc.\-c}}
\subsubsection[{shiftmap}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} {\bf shiftmap}\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{kbc_8c_a7d97552a829d8810a5914cc12c325052}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
        NUL,0x1B,'!','@','#','$','%','^',
        '&','*','(',')','_','+','\b','\t',
        'Q','W','E','R','T','Y','U','I','O',
        'P','{','}','\n',NUL,'A','S','D','F',
        'G','H','J','K','L',':','"','~',
        NUL,'|','Z','X','C','V','B','N','M',
        '<','>','?',NUL,'*',NUL,' ',NUL,NUL,
        NUL,NUL,NUL,NUL,NUL,NUL,NUL,NUL,NUL,
        NUL,NUL,'7','8','9','-','4','5','6',
        '+','1','2','3','0','.', NUL,NUL,NUL,NUL,
        [0x97] KEY_HOME,        [0x9C] '\n',
        [0xB5] '/',             [0xC8] KEY_UP,
        [0xC9] KEY_PGUP,        [0xCB] KEY_LF,
        [0xCD] KEY_RT,          [0xCF] KEY_END,
        [0xD0] KEY_DN,          [0xD1] KEY_PGDN,
        [0xD2] KEY_INS,         [0xD3] KEY_DEL
}
\end{DoxyCode}


\-Definition at line 53 of file kbc.\-c.

\hypertarget{kbc_8c_a04894af8115f470aa8f26efdde3b6742}{\index{kbc.\-c@{kbc.\-c}!togglecode@{togglecode}}
\index{togglecode@{togglecode}!kbc.c@{kbc.\-c}}
\subsubsection[{togglecode}]{\setlength{\rightskip}{0pt plus 5cm}{\bf uint8\-\_\-t} {\bf togglecode}\mbox{[}256\mbox{]}\hspace{0.3cm}{\ttfamily  \mbox{[}static\mbox{]}}}}\label{kbc_8c_a04894af8115f470aa8f26efdde3b6742}
{\bfseries \-Initial value\-:}
\begin{DoxyCode}

{
        [0x3A] CAPSLOCK,
        [0x45] NUMLOCK,
        [0x46] SCROLLLOCK
}
\end{DoxyCode}


\-Definition at line 25 of file kbc.\-c.

